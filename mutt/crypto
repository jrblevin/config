## ~/config/common/mutt/crypto: GPG support.                     -*-muttrc-*-
#
# Jason Blevins <jrblevin@sdf.lonestar.org>
# Created: Durham, January 15, 2006.
# Last Modified: March 11, 2008

# Some definitions:
# %p - The empty string when no passphrase is needed, the string
#      "PGPPASSFD=0" if one is needed.
# %f - File name on which to operate.
# %s - Temporary file containing detached signature.
# %a - Expands to $pgp_sign_as.
# %r - Expands to a list of key IDs.

set pgp_autosign=no
set pgp_sign_as=0x7F569169
set pgp_replyencrypt=yes
set pgp_timeout=1800
set pgp_verify_sig=yes

# Decode application/pgp.
set pgp_decode_command="/usr/bin/gpg --charset utf-8 --status-fd=2 %?p?--passphrase-fd 0? --no-verbose --quiet  --batch  --output - %f"

# Verify a signature.
set pgp_verify_command="/usr/bin/gpg --no-verbose --charset utf-8 --batch -o - --verify %s %f"

# Decrypt a pgp/mime attachment.
set pgp_decrypt_command="/usr/bin/gpg   --status-fd=2 %?p?--passphrase-fd 0? --no-verbose --quiet  --batch  --output - %f"

# Create a pgp/mime signed attachment.
set pgp_sign_command="/usr/bin/gpg --no-verbose --batch --quiet   --output - %?p?--passphrase-fd 0? --armor --detach-sign --textmode %?a?-u %a? %f"

# Create a application/pgp signed (old-style) message.
set pgp_clearsign_command="/usr/bin/gpg --charset utf-8 --no-verbose --batch --quiet   --output - %?p?--passphrase-fd 0? --armor --textmode --clearsign %?a?-u %a? %f"

# Create a pgp/mime encrypted attachment.
set pgp_encrypt_only_command="/usr/lib/mutt/pgpewrap /usr/bin/gpg  --charset utf-8 --batch --quiet --no-verbose --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"

# Create a pgp/mime encrypted and signed attachment.
set pgp_encrypt_sign_command="/usr/lib/mutt/pgpewrap /usr/bin/gpg --charset utf-8 %?p?--passphrase-fd 0? --batch --quiet --no-verbose --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"

# Import a key into the public key ring.
set pgp_import_command="/usr/bin/gpg --no-verbose --import %f"

# Export a key from the public key ring.
set pgp_export_command="/usr/bin/gpg --no-verbose --export --armor %r"

# Verify a key.
set pgp_verify_key_command="/usr/bin/gpg --verbose --batch --fingerprint --check-sigs %r"

# Read in the public key ring.
set pgp_list_pubring_command="gpg --no-verbose --batch --quiet --with-colons --list-keys %r"

# Read in the secret key ring.
set pgp_list_secring_command="/usr/bin/gpg --no-verbose --batch --quiet --with-colons --list-secret-keys %r"

# Fetch keys
set pgp_getkeys_command="/usr/bin/gpg --recv-keys %r 2> /dev/null"

# Pattern for good signatures.
set pgp_good_sign="^gpg: Good signature from"
